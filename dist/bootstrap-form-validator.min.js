/*
 *  bootstrap-form-validator - v0.0.2
 *  A javascript bootstrap plugin to validate a form
 *
 *  Made by Alex Michaud
 *  Under MIT License
 */
window.console||!function(){var a,b=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],c=b.length;for(window.console={},a=0;c>a;a++)window.console[b[a]]=function(){}}(),!function(a){"use strict";var b=function(a,b){this.init("validator",a,b)};b.prototype={constructor:b,init:function(b,c,d){return this.type=b,this.$form=a(c),this.options=this.getOptions(d),this.current_directory=this.getCurrentDirectory(["bootstrap-form-validator.js","bootstrap-form-validator.min.js"]),this.current_directory?(this.validationStatus=!0,this.regex={email:/^[a-z0-9+._%-]+@[a-z0-9.-]+\.[a-z]{2,}$/i,url:/^(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,integer:/^\d+$/,number:/^\d+(\.\d+)?$/,alpha:/^[a-z]+$/i,alphanumeric:/^[a-z0-9]+$/i,tel:/^[0-9\-\s\.]+$/,tel_us:/^(([0-9]{1})*[- .(]*([0-9]{3})[- .)]*[0-9]{3}[- .]*[0-9]{4})+$/,postalcode_us:/^[0-9]{5}(?:-[0-9]{4})?$/,postalcode_ca:/^[ABCEGHJKLMNPRSTVXY][0-9][A-Z][\s\-]?[0-9][A-Z][0-9]$/i,postalcode_uk:/(((^[BEGLMNS][1-9]\d?)|(^W[2-9])|(^(A[BL]|B[ABDHLNRST]|C[ABFHMORTVW]|D[ADEGHLNTY]|E[HNX]|F[KY]|G[LUY]|H[ADGPRSUX]|I[GMPV]|JE|K[ATWY]|L[ADELNSU]|M[EKL]|N[EGNPRW]|O[LX]|P[AEHLOR]|R[GHM]|S[AEGKL-PRSTWY]|T[ADFNQRSW]|UB|W[ADFNRSV]|YO|ZE)\d\d?)|(^W1[A-HJKSTUW0-9])|(((^WC[1-2])|(^EC[1-4])|(^SW1))[ABEHMNPRVWXY]))(\s*)?([0-9][ABD-HJLNP-UW-Z]{2}))$|(^GIR\s?0AA$)/,postalcode_br:/^\d{5}\-\d{3}$/,creditcard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6011[0-9]{12}|3(?:0[0-5]|[68][0-9])[0-9]{11}|3[47][0-9]{13})$/},this.lang={test:"TEST"},void this.loadLanguage(this.options.lang)):void console.log("Could not find the directory where the bootstrap form validator plugin is located")},loadLanguage:function(b){var c=this,d="bootstrap-form-validator-"+b+".js";"undefined"==typeof bootstrapFormValidatorLanguage?a.ajax({url:this.current_directory+d,dataType:"script",async:!1,cache:!1,success:function(){console.log("language script loaded"),"object"==typeof bootstrapFormValidatorLanguage?a.extend(c.lang,bootstrapFormValidatorLanguage):alert("bootstrap form validator language file is loaded, but the content is invalid")},error:function(){console.log("bootstrap validator could not find the language file : "+d),"en"!=b&&(console.log("trying to load the default language file"),c.loadLanguage("en"))}}):a.extend(c.lang,bootstrapFormValidatorLanguage)},getString:function(a,b){return"undefined"!=typeof this.lang[a]?this.lang[a].replace("%s",b):void console.log(a)},getCurrentDirectory:function(a){var b=document.getElementsByTagName("script");for(var c in b)if(b[c].src){var d=document.createElement("a");d.href=b[c].src;for(var e in a)if(-1!=d.pathname.indexOf(a[e]))return d.pathname.replace(a[e],"")}return!1},getOptions:function(b){return a.extend({},a.fn[this.type].defaults,b,this.$form.data())},addRegex:function(a,b){this.regex[a]=b},validate:function(a,b,c){return"required"==b?a.length>0:"minlength"==b?a.length>=c:"maxlength"==b?a.length<=c:"matches"==b?a==this.$form.find("#"+c).val():a.length>0&&this.regex[b]?this.regex[b].test(a):!0},formatErrors:function(a){var b="";for(var c in a)b+="<div class='"+this.options.errorMessageClass+"'>"+a[c]+"</div>";return b},validateInput:function(b){var c=a(b);if(c.is(":disabled"))return!0;var d=c.data("validate").split(","),e=[];for(var f in d)if(d[f].length){var g=d[f].split(/[=:]/),h=g[0],i=g[1]?g[1]:null;this.validate(c.val(),h,i)||("matches"==h&&(i=g[1]?c.parents("form").find("#"+i).parents(".form-group").find("label").html():null),e.push(this.getString(h,i)))}if(e.length>0){c.data("bs.fv.status","error");var j=c.data("bs.tooltip")||!1;if(j){var k=j.getTitle(),l=this.formatErrors(e);k!=l&&j.$tip.find(".tooltip-inner").html(l)}else c.tooltip({html:!0,placement:c.data("placement")?c.data("placement"):this.options.placement,container:"body",title:this.formatErrors(e),trigger:"manual"}),c.tooltip("show");return c.parents(".form-group").addClass("has-error"),!1}return c.data("bs.fv.status","ok"),this.cleanInput(c),!0},validateForm:function(){var a=this;a.validationStatus=!0,a.$form.find("[data-validate]").each(function(){a.validateInput(this)||(a.validationStatus=!1)})},destroy:function(){var b=this;b.$form.find("[data-validate]").each(function(){b.cleanInput(a(this))}),b.$form.off("."+this.type).removeData(this.type)},cleanInput:function(a){a.parents(".form-group").removeClass("has-error"),a.tooltip("destroy")},print:function(){console.log("--print test--")},timer:0,delay:function(a,b){clearTimeout(this.timer),this.timer=setTimeout(a,b)}},a.fn.validator=function(c,d,e){return this.each(function(){var f=a(this),g=f.data("validator"),h="object"==typeof c&&c,i="string"==typeof c?c:"validateForm";g?i&&g[i](d,e):f.data("validator",g=new b(this,h))})},a.fn.validator.Constructor=b,a.fn.validator.defaults={animation:!0,placement:a(window).width()<768?"top":"right",lang:document.documentElement.lang?document.documentElement.lang:navigator.language,errorMessageClass:""},a(function(){var b=a("form[data-validate]");return b?void b.each(function(){var b=a(this),c=b.data();return c.validate?(b.prop("id")&&console.log("form to validate : "+b.prop("id")),b.validator(c),b.find("input").on("keypress",function(a){(10==a.which||13==a.which)&&b.submit()}),"live"==b.data("validate")&&b.find("input[data-validate]").each(function(){a(this).on("keyup.validator.data-api",function(a){if(9!=a.keyCode){var c=this,d=function(){return b.validator("validateInput",c)};b.validator("delay",d,300)}}),a(this).on("blur.validator.data-api",function(){b.validator("validateInput",this)})}),void b.on("submit.validator.data-api",function(a){b.validator("validateForm"),0==b.data("validator").validationStatus&&a.preventDefault()})):!1}):(console.log("there is no form to validate"),!1)})}(window.jQuery);