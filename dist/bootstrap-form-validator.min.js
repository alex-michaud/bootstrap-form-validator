/*!
 *  bootstrap-form-validator - v0.0.3
 *  A javascript bootstrap plugin to validate form
 *
 *  Made by Alex Michaud - https://github.com/alex-michaud
 *  Copyright 2015
 *  Under MIT License
 *  Repository https://github.com/alex-michaud/bootstrap-form-validator
 */
window.console||!function(){var a,b=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],c=b.length;for(window.console={},a=0;c>a;a++)window.console[b[a]]=function(){}}(),!function(a){"use strict";var b=function(a,b){this.init("validator",a,b)};b.prototype={constructor:b,init:function(b,c,d){return this.type=b,this.$form=a(c),this.options=this.getOptions(d),this.current_directory=this.getCurrentDirectory(["bootstrap-form-validator.js","bootstrap-form-validator.min.js"]),this.current_directory?(this.validationStatus=!0,this.regex={alpha:/^[a-z]+$/i,alphanumeric:/^[a-z0-9]+$/i,creditcard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6011[0-9]{12}|3(?:0[0-5]|[68][0-9])[0-9]{11}|3[47][0-9]{13})$/,email:/^[a-z0-9+._%-]+@[a-z0-9.-]+\.[a-z]{2,}$/i,integer:/^\d+$/,number:/^\d+(\.\d+)?$/,postalcode_us:/^[0-9]{5}(?:-[0-9]{4})?$/,postalcode_ca:/^[ABCEGHJKLMNPRSTVXY][0-9][A-Z][\s\-]?[0-9][A-Z][0-9]$/i,postalcode_uk:/(((^[BEGLMNS][1-9]\d?)|(^W[2-9])|(^(A[BL]|B[ABDHLNRST]|C[ABFHMORTVW]|D[ADEGHLNTY]|E[HNX]|F[KY]|G[LUY]|H[ADGPRSUX]|I[GMPV]|JE|K[ATWY]|L[ADELNSU]|M[EKL]|N[EGNPRW]|O[LX]|P[AEHLOR]|R[GHM]|S[AEGKL-PRSTWY]|T[ADFNQRSW]|UB|W[ADFNRSV]|YO|ZE)\d\d?)|(^W1[A-HJKSTUW0-9])|(((^WC[1-2])|(^EC[1-4])|(^SW1))[ABEHMNPRVWXY]))(\s*)?([0-9][ABD-HJLNP-UW-Z]{2}))$|(^GIR\s?0AA$)/,postalcode_br:/^\d{5}\-\d{3}$/,tel:/^[0-9\-\s\.]+$/,tel_us:/^(([0-9]{1})*[- .(]*([0-9]{3})[- .)]*[0-9]{3}[- .]*[0-9]{4})+$/,url:/^(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i},this.lang={test:"TEST"},void this.loadLanguage(this.options.lang)):void console.log("Could not find the directory where the bootstrap form validator plugin is located")},addRegex:function(a,b){this.regex[a]=b},loadLanguage:function(b){var c=this,d="bootstrap-form-validator-"+b+".js";"undefined"==typeof bootstrapFormValidatorLanguage?a.ajax({url:this.current_directory+d,dataType:"script",async:!1,cache:!1,success:function(){console.log("language script loaded"),"object"==typeof bootstrapFormValidatorLanguage?a.extend(c.lang,bootstrapFormValidatorLanguage):alert("bootstrap form validator language file is loaded, but the content is invalid")},error:function(){console.log("bootstrap validator could not find the language file : "+d),"en"!=b&&(console.log("trying to load the default language file"),c.loadLanguage("en"))}}):a.extend(c.lang,bootstrapFormValidatorLanguage)},getString:function(a,b){return"undefined"!=typeof this.lang[a]?this.lang[a].replace("%s",b):void console.log(a)},getCurrentDirectory:function(a){var b=document.getElementsByTagName("script");for(var c in b)if(b[c].src){var d=document.createElement("a");d.href=b[c].src;for(var e in a)if(-1!=d.pathname.indexOf(a[e]))return d.pathname.replace(a[e],"")}return!1},getOptions:function(b){return a.extend({},a.fn[this.type].defaults,b,this.$form.data())},validate:function(a,b,c){var d=a.val();return"required"==b?a.is('input[type="checkbox"]')?a[0].checked:d.length>0:"minlength"==b?d.length>=c:"maxlength"==b?d.length<=c:"matches"==b?d==this.$form.find("#"+c).val():"maxsize"==b&&window.File&&window.FileReader&&window.FileList&&window.Blob&&a[0].files[0]?a[0].files[0].size<this.getSizeInBytes(c):d.length>0&&this.regex[b]?this.regex[b].test(d):!0},getSizeInBytes:function(a){var b=0,c=a.substr(-1,1);return"M"==c?b=2:"K"==c&&(b=1),Math.floor(parseFloat(a)*Math.pow(1024,b))},formatErrors:function(a){var b="";for(var c in a)b+="<div class='"+this.options.errorMessageClass+"'>"+a[c]+"</div>";return b},validateInput:function(a){if(a.is(":disabled"))return!0;var b=a.data("validate").split(","),c=[];for(var d in b)if(b[d].length){var e=b[d].split(/[=:]/),f=e[0],g=e[1]?e[1]:null;this.validate(a,f,g)||("matches"==f&&(g=e[1]?a.parents("form").find("#"+g).parents(".form-group, .checkbox, .radio").find("label").html():null),c.push(this.getString(f,g)))}if(c.length>0){a.data("bs.fv.status","error");var h=a.data("bs.tooltip")||!1;if(h){var i=h.getTitle(),j=this.formatErrors(c);i!=j&&h.$tip.find(".tooltip-inner").html(j)}else a.tooltip({html:!0,placement:a.data("placement")?a.data("placement"):this.options.placement,container:a.data("container")?a.data("container"):this.options.container,title:this.formatErrors(c),trigger:"manual"}),a.tooltip("show");return a.parents(".form-group, .checkbox, .radio").addClass("has-error"),!1}return a.data("bs.fv.status","ok"),this.cleanInput(a),!0},validateForm:function(){var b=this;b.validationStatus=!0,b.$form.find("[data-validate]").each(function(){b.validateInput(a(this))||(b.validationStatus=!1)})},destroy:function(){var b=this;b.$form.find("[data-validate]").each(function(){b.cleanInput(a(this))}),b.$form.off("."+this.type).removeData(this.type)},cleanInput:function(a){a.parents(".form-group, .checkbox, .radio").removeClass("has-error"),a.tooltip("destroy")},print:function(){console.log("--print test--")},timer:0,delay:function(a,b){clearTimeout(this.timer),this.timer=setTimeout(a,b)}},a.fn.validator=function(c,d,e){return this.each(function(){var f=a(this),g=f.data("validator"),h="object"==typeof c&&c,i="string"==typeof c?c:"validateForm";g?i&&g[i](d,e):f.data("validator",g=new b(this,h))})},a.fn.validator.Constructor=b,a.fn.validator.defaults={animation:!0,container:"body",errorMessageClass:"",lang:document.documentElement.lang?document.documentElement.lang:navigator.language,placement:a(window).width()<768?"top":"right"},a(function(){var b=a("form[data-validate]");return b?void b.each(function(){var b=a(this),c=b.data();return c.validate?(b.prop("id")&&console.log("form to validate : "+b.prop("id")),b.validator(c),b.find("input").on("keypress",function(a){(10==a.which||13==a.which)&&b.submit()}),"live"==b.data("validate")&&b.find("input[data-validate]").each(function(){var c=a(this);c.is("input[type=file]")?c.on("change.validator.data-api",function(){b.validator("validateInput",c)}):c.is("input[type=checkbox]")?c.on("change.validator.data-api",function(){b.validator("validateInput",c)}):(c.on("keyup.validator.data-api",function(a){if(9!=a.keyCode){var d=function(){return b.validator("validateInput",c)};b.validator("delay",d,300)}}),c.on("blur.validator.data-api",function(){b.validator("validateInput",c)}))}),void b.on("submit.validator.data-api",function(a){b.validator("validateForm"),0==b.data("validator").validationStatus&&a.preventDefault()})):!1}):(console.log("there is no form to validate"),!1)})}(window.jQuery);